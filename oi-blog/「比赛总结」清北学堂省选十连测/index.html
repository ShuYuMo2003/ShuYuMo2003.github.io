<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/oi-blog/images/apple-touch-icon-next.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/oi-blog/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/oi-blog/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/oi-blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/oi-blog/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=sans-serif:300,300italic,400,400italic,700,700italic%7CUbuntu:300,300italic,400,400italic,700,700italic%7CRoboto:300,300italic,400,400italic,700,700italic%7C'Open+Sans':300,300italic,400,400italic,700,700italic%7C'Microsoft+YaHei':300,300italic,400,400italic,700,700italic%7Csans-serif;:300,300italic,400,400italic,700,700italic%7CSource+Code+Pro:300,300italic,400,400italic,700,700italic%7Cmonospace:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css">
  <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"https:/ShuYuMo2003.github.io","root":"/","images":"/images","scheme":"Mist","version":"8.2.1","exturl":false,"sidebar":{"position":"left","width":250,"display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="之后应该会按照算法分类，后面有一些题目没有补完…">
<meta property="og:type" content="article">
<meta property="og:title" content="「比赛总结」清北学堂省选十连测">
<meta property="og:url" content="%E3%80%8C%E6%AF%94%E8%B5%9B%E6%80%BB%E7%BB%93%E3%80%8D%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82%E7%9C%81%E9%80%89%E5%8D%81%E8%BF%9E%E6%B5%8B/index.html">
<meta property="og:site_name" content="Shu Yu Mo&#39;s blog">
<meta property="og:description" content="之后应该会按照算法分类，后面有一些题目没有补完…">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-29T12:54:14.000Z">
<meta property="article:modified_time" content="2021-08-27T11:42:44.027Z">
<meta property="article:author" content="舒雨墨">
<meta property="article:tag" content="未完成">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="「比赛总结」清北学堂省选十连测/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>「比赛总结」清北学堂省选十连测 | Shu Yu Mo's blog</title>





  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/oi-blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Shu Yu Mo's blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">远行者</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/oi-blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/oi-blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/oi-blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/oi-blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/oi-blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-latex-syntax"><a href="/oi-blog/LaTeX-syntax.html" rel="section"><i class="fa fa-heart fa-fw"></i>LaTeX-syntax</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>


  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">


      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">


          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="舒雨墨"
      src="/oi-blog/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">舒雨墨</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/oi-blog/archives/">

          <span class="site-state-item-count">36</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/oi-blog/categories/">

        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/oi-blog/tags/">

        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ShuYuMo2003" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ShuYuMo2003" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.luogu.com.cn/user/44615" title="Luogu → https:&#x2F;&#x2F;www.luogu.com.cn&#x2F;user&#x2F;44615" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Luogu</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:sujiayi2003@gmail.com" title="E-Mail → mailto:sujiayi2003@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/JiaYiSu5" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;JiaYiSu5" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>




          <hr/>
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#round-1"><span class="nav-number">1.</span> <span class="nav-text">Round 1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-a-string"><span class="nav-number">1.1.</span> <span class="nav-text">Problem A (string)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-b-different"><span class="nav-number">1.2.</span> <span class="nav-text">Problem B (different)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#round-2"><span class="nav-number">2.</span> <span class="nav-text">Round 2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-a-grid"><span class="nav-number">2.1.</span> <span class="nav-text">Problem A (grid)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-b-cactus"><span class="nav-number">2.2.</span> <span class="nav-text">Problem B (cactus)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-c-color"><span class="nav-number">2.3.</span> <span class="nav-text">Problem C (color)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#round-3"><span class="nav-number">3.</span> <span class="nav-text">Round 3</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-b-streeing"><span class="nav-number">3.1.</span> <span class="nav-text">Problem B (streeing)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-c-tree-queries"><span class="nav-number">3.2.</span> <span class="nav-text">Problem C (Tree Queries)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#round-4"><span class="nav-number">4.</span> <span class="nav-text">Round 4</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-a-matrix"><span class="nav-number">4.1.</span> <span class="nav-text">Problem A (matrix)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-b-segment"><span class="nav-number">4.2.</span> <span class="nav-text">Problem B (Segment)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-c-3-sat"><span class="nav-number">4.3.</span> <span class="nav-text">Problem C (3-sat)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#round-5"><span class="nav-number">5.</span> <span class="nav-text">Round 5</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-a-%E6%98%9F%E6%98%9F"><span class="nav-number">5.1.</span> <span class="nav-text">Problem A (星星)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-b-%E6%95%B0%E5%AD%97"><span class="nav-number">5.2.</span> <span class="nav-text">Problem B (数字)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-c-%E7%B3%96%E6%9E%9C"><span class="nav-number">5.3.</span> <span class="nav-text">Problem C (糖果)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#round-6"><span class="nav-number">6.</span> <span class="nav-text">Round 6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-a-%E6%8A%BD%E5%A5%96"><span class="nav-number">6.1.</span> <span class="nav-text">Problem A (抽奖)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-b-%E6%8E%92%E5%88%97"><span class="nav-number">6.2.</span> <span class="nav-text">Problem B (排列)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-c-%E5%9B%BE"><span class="nav-number">6.3.</span> <span class="nav-text">Problem C (图)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#round-7"><span class="nav-number">7.</span> <span class="nav-text">Round 7</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-a"><span class="nav-number">7.1.</span> <span class="nav-text">Problem A</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-b"><span class="nav-number">7.2.</span> <span class="nav-text">Problem B</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-c"><span class="nav-number">7.3.</span> <span class="nav-text">Problem C</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#round-8"><span class="nav-number">8.</span> <span class="nav-text">Round 8</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#problem-a-1"><span class="nav-number">8.1.</span> <span class="nav-text">Problem A</span></a></li></ol></li></ol></div>

        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="舒雨墨"
      src="/oi-blog/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">舒雨墨</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/oi-blog/archives/">

          <span class="site-state-item-count">36</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/oi-blog/categories/">

        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/oi-blog/tags/">

        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ShuYuMo2003" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ShuYuMo2003" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.luogu.com.cn/user/44615" title="Luogu → https:&#x2F;&#x2F;www.luogu.com.cn&#x2F;user&#x2F;44615" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Luogu</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:sujiayi2003@gmail.com" title="E-Mail → mailto:sujiayi2003@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/JiaYiSu5" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;JiaYiSu5" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>


  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">





<div class="post-block">



  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="/oi-blog/「比赛总结」清北学堂省选十连测/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/oi-blog/images/avatar.jpg">
      <meta itemprop="name" content="舒雨墨">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shu Yu Mo's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          「比赛总结」清北学堂省选十连测
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-03-29 20:54:14" itemprop="dateCreated datePublished" datetime="2021-03-29T20:54:14+08:00">2021-03-29</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-27 19:42:44" itemprop="dateModified" datetime="2021-08-27T19:42:44+08:00">2021-08-27</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/oi-blog/categories/比赛总结/" itemprop="url" rel="index"><span itemprop="name">比赛总结</span></a>
        </span>
    </span>


    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>




    <div class="post-body" itemprop="articleBody">
          <p>之后应该会按照算法分类，后面有一些题目没有补完…</p>
<a id="more"></a>
<h2 id="round-1">Round 1</h2>
<h3 id="problem-a-string">Problem A (string)</h3>
<p>你有一个字符串 <span class="math inline">\(S_0\)</span>，想要用它造出共 <span class="math inline">\(n\)</span> 个新字符串 <span class="math inline">\(S_{0},\cdots,S_{n-1}\)</span>。</p>
<p>你会按顺序进行 <span class="math inline">\(n-1\)</span> 次操作，造出新字符串。第 <span class="math inline">\(i\)</span> 次操作有两种方法：</p>
<ul>
<li><code>S x l r</code> 截取 <span class="math inline">\(S_x\)</span> 的 <span class="math inline">\([l,r)\)</span> 子串，即第 <span class="math inline">\(l\)</span> 到第 <span class="math inline">\(r-1\)</span> 个字符作为 <span class="math inline">\(S_i\)</span></li>
<li><code>A x y</code> 将 <span class="math inline">\(S_x\)</span> 和 <span class="math inline">\(S_y\)</span> 拼接作为 <span class="math inline">\(S_i\)</span></li>
</ul>
<p>最后，你会关心 <span class="math inline">\(S_{n-1}\)</span> 长什么样，因此请输出 <span class="math inline">\(S_{n-1}\)</span> 所有字符的 ASCII 码之和，结果对 <span class="math inline">\(10^9+7\)</span> 取模。</p>
<p>本题中字符串下标均从 <span class="math inline">\(0\)</span> 开始编号，且保证所有字符串串长不超过 <span class="math inline">\(2^{63}-1\)</span>，并且所有操作均合法（即<span class="math inline">\(0\leq x,y&lt;i,0\leq l &lt; r\leq Len(S_x)\)</span>）</p>
<p>第一行一个整数 <span class="math inline">\(n\)</span>。</p>
<p>接下来一行一个小写字母字符串 <span class="math inline">\(S_0\)</span>。</p>
<p>接下来 <span class="math inline">\(n-1\)</span> 行描述 <span class="math inline">\(n-1\)</span> 次操作，每行的操作格式见题目描述。</p>
<p>对于全部数据，<span class="math inline">\(n\leq 2000, 1\leq Len(S_0)\leq 2000\)</span>，同时满足题目描述中给的限制。</p>
<hr />
<p>考虑如果存储每个串对应原串 <span class="math inline">\(S_0\)</span> 的一段连续区间，每一次截取操作最多会产生两段不同的 <span class="math inline">\(S_0\)</span> 区间，不妨利用这个思路，只要能够实现对操作的解析，复杂度不是问题，我的实现比较复杂…考虑把问题转化成一些简单的问题，<span class="math inline">\(f(n, L)\)</span> 表示查询第 <span class="math inline">\(n\)</span> 个串的 <span class="math inline">\([1, L]\)</span> 子区间的 Ascii 和。 递归处理即可</p>
<hr />
<p>应该时刻记住尝试使用递归这种方法。</p>
<hr />
<h3 id="problem-b-different">Problem B (different)</h3>
<p>你有 <span class="math inline">\(n\)</span> 株植物，高度为 <span class="math inline">\(a_i\)</span>。你希望让它们的高度看起来不太相同，具体来说：任意两株高度差的绝对值不小于 <span class="math inline">\(d\)</span>。</p>
<p>每次你可以选择一株植物，将其拔高或压低 <span class="math inline">\(1\)</span>，这花费你 <span class="math inline">\(1\)</span> 的力气，这个操作可以进行任意多次。注意，植物高度不能是负的，即你需要保证任意时刻 <span class="math inline">\(a_i\geq 0\)</span>。</p>
<p>你最少需要使用多少力气，才能使得植物高度看起来不太相同呢？</p>
<p>多组测试数据。第一行一个整数 <span class="math inline">\(T\)</span> 为数据组数，接下来每组格式如下：</p>
<p><span class="math inline">\(\sum n\leq 3\cdot 10^5,1\leq d\leq 10^6, 0\leq a_i\leq 10^{11}\)</span>。</p>
<hr />
<p>首先考虑一个转化，任意这样的限制不太好处理。考虑对原序列排序，然后第 <span class="math inline">\(i\)</span> 株植物的高度减去 <span class="math inline">\((i-1)\times d\)</span>，然后问题转化为 对转化后的序列求最少需要支付多少代价，使得原序列不降。</p>
<p>考虑一个显然的 dp：<span class="math inline">\(f[i][j]\)</span> 表示考虑了前 <span class="math inline">\(i\)</span> 个植物，第 <span class="math inline">\(i\)</span> 个植物的高度为 <span class="math inline">\(j\)</span> 的最小代价。</p>
<p>转移显然： <span class="math display">\[
f[i][j] = \min_{k=0}^{j}\{f[i-1][k]\}
\]</span></p>
<p>转移比较简单，设函数 <span class="math inline">\(F_i(n)=f[i][n]\)</span> 。</p>
<p>考虑每一个函数形态：</p>
<p><span class="math inline">\(F_1(n)\)</span> 是一个绝对值函数，转移过程取前缀最小值中实际上是对其斜率为正的后半部分 “压平”，向下一个 <span class="math inline">\(F_i(n)\)</span> 转移其实是在原来的函数上加上去另一个绝对值函数，和一个常数。</p>
<p>这样形成的函数在任何时刻都是一个下凸壳，考虑使用堆来维护每一个拐点，如果在每次压入拐点的时候压入两个一样的拐点，就能够使得堆中的每个拐点前后斜率变化恰好为 <span class="math inline">\(1\)</span> ，每次取前缀最小值就相当于在堆中弹出函数值最大的拐点。</p>
<p>这样就可以实现堆维护转移了，再同时记一下 <span class="math inline">\(F(0)\)</span> 的函数值变化，最后遍历一遍堆种的拐点就能够取出最小值了。</p>
<hr />
<p>需要分析 dp 特殊性质，然后从特殊性质入手进行优化。</p>
<hr />
<h2 id="round-2">Round 2</h2>
<h3 id="problem-a-grid">Problem A (grid)</h3>
<p>你有一个 <span class="math inline">\(n\)</span> 行 <span class="math inline">\(m\)</span> 列的教室，其中某些位置不能坐人。</p>
<p>你的班上有 <span class="math inline">\(k\)</span> 对 CP，你对八卦早已失去了兴趣，转而想要知道有多少种给这 <span class="math inline">\(2k\)</span> 位同学排座位的方式，使得每对 CP 的座位<strong>不</strong>相邻（有些位置可能会空出来，方案不同当且仅当某个位置状态不同，即坐着不同的同学）。</p>
<p>结果对 <span class="math inline">\(10^9+7\)</span> 取模。</p>
<p>对于全部数据，<span class="math inline">\(1\leq nm\leq 144,1\leq k\leq \frac{nm}{2}\)</span>，保证空位置个数不少于 <span class="math inline">\(2k\)</span>。</p>
<hr />
<p>考虑问题转化，不相邻不太好搞，但是如果钦定 <span class="math inline">\(k\)</span> 个相邻，就可以直接 状压dp 解决。</p>
<p>考虑一种填放的方案，如果从上到下依次填放这些 <span class="math inline">\(**\)</span> 每一次填放的方案只和这个这个点和这个点周围的情况有关。考虑状压一个上轮廓即可。</p>
<p>设 <span class="math inline">\(f[x][y][S][k]\)</span> 表示考虑到了 <span class="math inline">\((x, y)\)</span> 这个位置，这个位置上轮廓的格子状态 <span class="math inline">\(S\)</span>，有 <span class="math inline">\(k\)</span> 个配对的 <span class="math inline">\(**\)</span>，的方案数。（这里可以先把 <span class="math inline">\(**\)</span> 考虑成无标号的最后统计的时候再给标号）。</p>
<p>转移只需要枚举是不放 / 竖着放一对 / 横着放一对。</p>
<p>将 <span class="math inline">\(f[n][m][*][l]\)</span> 累加后就能够得到无标号的 <span class="math inline">\(**\)</span> 配对 <span class="math inline">\(l\)</span> 对的方案数。赋予标号，就能够得到钦定 <span class="math inline">\(l\)</span> 的方案数。</p>
<p>可以用二项式定理转化为恰好 <span class="math inline">\(0\)</span> 对匹配的方案数。</p>
<hr />
<h3 id="problem-b-cactus">Problem B (cactus)</h3>
<p>你有一棵仙人掌，你想要知道所有点两两最短路之和！即，<span class="math inline">\(\sum\limits_{i&lt;j} dis(i,j)\)</span>。</p>
<p>仙人掌是一张无向简单连通图，无重边自环，且每条边属于至多一个简单环。</p>
<p>本题中边没有权值，即可以认为边权均为 <span class="math inline">\(1\)</span>。</p>
<p>对于全部数据，<span class="math inline">\(1\leq n\leq 3\cdot 10^5,1\leq m\leq 6\cdot 10^5\)</span>。</p>
<hr />
<p>屑题。</p>
<p>设仙人掌的点数为 <span class="math inline">\(n\)</span> ，边数为 <span class="math inline">\(m\)</span> ，则：<span class="math inline">\(m\le 2n\)</span>。</p>
<p>证明考虑一张图的 dfs 树，每一条不在树上的边都一定是返祖边（设这条边为 <span class="math inline">\((u, v)\)</span> ，则：要么 <span class="math inline">\(u\)</span> 是 <span class="math inline">\(v\)</span> 的祖先，要么 <span class="math inline">\(v\)</span> 是 <span class="math inline">\(u\)</span> 的祖先）。</p>
<p>对于一张仙人掌来说，每个返祖边无交，所以证明显然。</p>
<p>考 虑每条边的贡献：</p>
<ul>
<li>树边显然是断开后两连通块大小乘积。</li>
<li>环上的边需要考虑每一条路径是经过这条边还是环上的对边。算贡献的时候不太好处理，可以考虑暴力算出一条边的答案，然后考虑环上下一条边和这条边的贡献会差哪些，这里就能实现 <span class="math inline">\(\mathcal{O}(1)\)</span> 转化为下一条边的贡献，<del>屡试不爽</del>。</li>
</ul>
<hr />
<h3 id="problem-c-color">Problem C (color)</h3>
<p>你有一个 <span class="math inline">\(2\)</span> 行 <span class="math inline">\(n\)</span> 列的网格，你要给每个格子染上三种颜色（红绿蓝）之一。</p>
<p>你还提了很多要求：任意两个相邻格子颜色不能相同；任何一个 <span class="math inline">\(2\times 2\)</span> 的块里，每种颜色都必须出现过。</p>
<p>现在你还想求出，恰好分别染了 <span class="math inline">\(R,G,B\)</span> 个红、绿、蓝格子的方案数，结果对 <span class="math inline">\(10^9+7\)</span> 取模。</p>
<p>一行四个整数 <span class="math inline">\(n,R,G,B\)</span>。</p>
<p>对于全部数据，<span class="math inline">\(2\leq n\leq 5\cdot 10^6,0\leq R,G,B\leq 2n,R+G+B=2n\)</span>。</p>
<hr />
<p>对于每一种染色方案，如果将每一列没有出现的字符写成一行，那么问题不难转化为求 限制三种字符的出现次数，然后排成一排使其满足相邻的两个字符不相同的合法方案数。</p>
<p>记录一种更加一般化的做法吧，直接考虑这样的一个<a target="_blank" rel="noopener" href="https://loj.ac/p/6503">问题</a>：</p>
<p>给出 <span class="math inline">\(m​\)</span> 种颜色和其各自的出现次数 (<span class="math inline">\(a_i​\)</span>) 要求排成长度为 <span class="math inline">\(n=\sum{a_i}​\)</span> 的序列，且满足相邻两个颜色相同的 <strong>恰好</strong> 有 <span class="math inline">\(k​\)</span> 对。定义两个序列不同，当且仅当存在某一个位置，两个序列颜色不同。</p>
<p>条件反射：看到 <strong>恰好</strong> 应该想到容斥，考虑如何求出钦定有 <span class="math inline">\(k​\)</span> 个颜色相同的相邻元素对。</p>
<p>需要观察到一个性质，对于某一种有 <span class="math inline">\(a_i​\)</span> 个的颜色，如果其在原序列中被分成了不连续的 <span class="math inline">\(x​\)</span> 段，那么她对答案的贡献是 <span class="math inline">\(a_i-x​\)</span>。</p>
<p><strong>钦定</strong> <span class="math inline">\(k\)</span> 对 就可以转化为各个颜色一共被拆分成了 <span class="math inline">\(n-k\)</span> 段。这里的方案数就可以卷积统计了。</p>
<p>但是有一点点不太对，在有些情况下，颜色段的顺序交换后并不能算成不同情况，可以考虑给每种颜色相同的元素标号，最后对答案除以 <span class="math inline">\(\prod_{i}a_i\)</span> 。</p>
<p>考虑一种颜色 <span class="math inline">\(i\)</span> 的生成函数，设：<span class="math inline">\([x^n]F_i(x)\)</span> 表示 第 <span class="math inline">\(i\)</span> 种颜色拆成 <span class="math inline">\(n\)</span> 段的方案数。</p>
<p>然后把这些段拼起来：<span class="math inline">\(G(x)=\prod_{i}\limits{F_i(x)}\)</span>。</p>
<p>组合起来之后，注意到这样是每一段是强制了其拼起来的顺序，需要打乱这个顺序，则钦定选 <span class="math inline">\(k\)</span> 个的方案数就是 <span class="math inline">\((n-k)![x^k]G(x)\)</span>。</p>
<p>然后套一个二项式反演就行了。</p>
<h2 id="round-3">Round 3</h2>
<h3 id="problem-b-streeing">Problem B (streeing)</h3>
<p>给定一棵<span class="math inline">\(n​\)</span>个节点的树，树上的每个节点有一个字符<span class="math inline">\(c_i​\)</span>.</p>
<p>初始给出串 <span class="math inline">\(S\)</span> ，现在有 <span class="math inline">\(Q\)</span> 次询问 <span class="math inline">\((x,y)\)</span> ,你需要将 <span class="math inline">\(x\)</span> 到 <span class="math inline">\(y\)</span> 路径上的字符拼成一个字符串并回答串 <span class="math inline">\(S\)</span> 在其中出现了多少次。</p>
<hr />
<p>屑题。树上莫队 <del>模板题</del></p>
<p>考虑每次新加入 / 减少一个字符最多会产生 / 减少一个匹配。哈希判断即可。</p>
<h3 id="problem-c-tree-queries">Problem C (Tree Queries)</h3>
<p>给定一棵 <span class="math inline">\(n​\)</span> 个节点树，树上的每个节点有一个权值 <span class="math inline">\(a_i​\)</span>。</p>
<p>现在有 <span class="math inline">\(Q\)</span> 次询问 <span class="math inline">\((u,d,k)\)</span>, 你需要将所有距离点 <span class="math inline">\(u\)</span> 小于等于 <span class="math inline">\(d\)</span> 的点的点权排序并输出第 <span class="math inline">\(k\)</span> 小的点权，如果没有第 <span class="math inline">\(k\)</span> 小输出 <span class="math inline">\(-1\)</span>.</p>
<p><span class="math inline">\(a_i\le 10^9 \ \ n,Q \le 5\times 10^4\)</span></p>
<hr />
<p>屑题。 毫无思维难度的一道省选难度的题。</p>
<p>点分树 + 主席树二维数点 <del>模板题</del>。</p>
<p>std 写的是两个 <span class="math inline">\(\log\)</span> 的做法，就是考虑所谓的 <strong>同步二分</strong>。三个 <span class="math inline">\(\log\)</span> 卡常数卡了一年拿到了暴力分。</p>
<h2 id="round-4">Round 4</h2>
<h3 id="problem-a-matrix">Problem A (matrix)</h3>
<p>给定一个<span class="math inline">\(n\times m\)</span>的矩阵，矩阵的每个位置上都有一个整数。</p>
<p>你现在需要选择一个大小为<span class="math inline">\(1\times x(1\le x\le k)\)</span>或者一个大小为<span class="math inline">\(x\times 1(1\le x\le k)\)</span>的子矩阵并将其中的所有元素清零。</p>
<p>你想要使操作之后的最大子矩阵和尽可能大，输出这个值。</p>
<p>一个矩阵的子矩阵定义为连续的若干行与连续的若干列的交点对应位置构成的矩阵,子矩形可以为空。</p>
<p>对于所有数据，<span class="math inline">\(2\le n,m,k\le 300,-5000\le A_{i,j}\le 5000\)</span></p>
<hr />
<p>比较套路的一个做法，考虑枚举上下两个边界，然后中间压成一维，预处理出每一列能够取到的最小能扣去的一列。 设 <span class="math inline">\(\operatorname{sum}(n)\)</span> 为前缀和函数，<span class="math inline">\(d(l, r)\)</span> 表示在 <span class="math inline">\([l,r]\)</span> 这些列中最小的能够扣去的一竖条。</p>
<p>考虑 区间 <span class="math inline">\([L, R]\)</span> 的答案一定是： <span class="math display">\[
\operatorname{sum}(R) - \operatorname{sum}(L - 1) - d(L, R)
\]</span> 可以预处理出 <span class="math inline">\(d(n, n)\)</span> 然后单调栈处理每一个区间的 <span class="math inline">\(d\)</span> 值，然后使用 <span class="math inline">\(\operatorname{sum}\)</span> 初始化 ST 表，对于每一个 <span class="math inline">\(d\)</span> 自然是取后半个区间中最大的 <span class="math inline">\(\operatorname{sum}\)</span> 值，和前半个区间中最小的 <span class="math inline">\(\operatorname{sum}\)</span> 值。 能够做到复杂度 <span class="math inline">\(\mathcal{O}(n^2)\)</span>。有亿点点小问题，细节没处理好，应该不是做法假了吧…</p>
<hr />
<h3 id="problem-b-segment">Problem B (Segment)</h3>
<p>平面上有 <span class="math inline">\(n​\)</span> 条平行于 <span class="math inline">\(X​\)</span> 轴或平行于 <span class="math inline">\(Y​\)</span> 轴的线段，你需要求出这些线段将平面划分成了几个部分。</p>
<p>第一行一个正整数 <span class="math inline">\(n​\)</span></p>
<p>接下来<span class="math inline">\(n\)</span>行每行四个整数 <span class="math inline">\(x_1,y_1,x_2,y_2\)</span> 表示线段的两个端点。<span class="math inline">\((x_1=x_2\)</span> 或 <span class="math inline">\(y_1=y_2)\)</span></p>
<p>保证 <span class="math inline">\((x_1,y_1)\ne(x_2,y_2)\)</span></p>
<p>$ n10^5  ,  -10<sup>9x_1,x_2,y_1,y_210</sup>9$</p>
<hr />
<p>平面图的欧拉定理 <span class="math display">\[
V+F=E+2
\]</span></p>
<h3 id="problem-c-3-sat">Problem C (3-sat)</h3>
<p><strong>请注意： 本题是提交答案题</strong></p>
<p>你有 <span class="math inline">\(n​\)</span> 个 <span class="math inline">\(01​\)</span> 变量 <span class="math inline">\(x_1,...,x_n​\)</span> 和 <span class="math inline">\(m​\)</span> 个子句 <span class="math inline">\(C_i=(z_1| z_2 | z_3)​\)</span> 或者 <span class="math inline">\(C_i=(z_1| z_2)​\)</span> 其中<span class="math inline">\(z_1,z_2,z_3​\)</span>为某个 <span class="math inline">\(x_j​\)</span> 或者 <span class="math inline">\(\overline{x_j}(x_j取反)​\)</span>. 每个子句的权值为 <span class="math inline">\(w_i​\)</span>. ("|"为逻辑或)</p>
<p>你希望构造一组 <span class="math inline">\(x_1,...,x_n\)</span> 的取值，使<span class="math inline">\(\sum C_i\cdot w_i\)</span>尽可能大。</p>
<p>第一行两个正整数 <span class="math inline">\(n,m​\)</span></p>
<p>接下来 <span class="math inline">\(m\)</span> 行每行 第一个整数<span class="math inline">\(k\in\{2,3\}\)</span> 描述这个子句的变量个数，接下来 <span class="math inline">\(k\)</span> 个整数 <span class="math inline">\(z_1,...,z_k\)</span>, 如果 <span class="math inline">\(z_j&lt;0\)</span>则表示 <span class="math inline">\(\overline{x_{-z_j}}\)</span>, 否则表示 <span class="math inline">\(x_{z_j}\)</span>， 描述一个子句，最后一个整数 <span class="math inline">\(w_i\)</span> 表示这个子句的权值。</p>
<p>保证子句中的 <span class="math inline">\(|z_j|\)</span> 两两不同</p>
<p>最后一行十个正整数<span class="math inline">\(t_1\le t_2\le...\le t_{10}​\)</span>, 描述评分参数。</p>
<p>设你求出的解 <span class="math inline">\(\sum C_i \cdot w_i=ans​\)</span>,令 <span class="math inline">\(v​\)</span> 为最大的 <span class="math inline">\(i​\)</span> 满足<span class="math inline">\(ans\ge t_i​\)</span>, 该测试点你将获得 <span class="math inline">\(v​\)</span> 分.</p>
<p>一行 <span class="math inline">\(n\)</span> 个整数，表示<span class="math inline">\(x_1,...,x_n\)</span>的取值。</p>
<hr />
<p>认识了一下<a target="_blank" rel="noopener" href="https://oi-wiki.org/misc/simulated-annealing/"><strong>模拟退火</strong></a>算法，除了做提交答案题目以外，有一些不太紧的 <strong>传统</strong> 题也可以使用。</p>
<p>需要注意模拟退火算法，一定要设计出合理的邻域。需要注意，退火可能算是乱搞，但是代码不能乱写…，迭代次数是退火答案优劣的保证，需要加快邻域答案的计算，以追求更多的迭代次数。</p>
<h2 id="round-5">Round 5</h2>
<h3 id="problem-a-星星">Problem A (星星)</h3>
<p>三维空间里有一些星星，第 <span class="math inline">\(i\)</span> 颗星星的坐标为 <span class="math inline">\((x_i,y_i,z_i)\)</span>，且有 <span class="math inline">\(p_i\)</span> 的概率发光，<span class="math inline">\(1-p_i\)</span> 的概率不发光。保证任意四颗星星不在同一个平面上。</p>
<p>称一个星星是美丽的，当且仅当他是发光的，且不存在另外四颗<strong>发光的</strong>星星，使得这颗星星被严格包含在这另外四颗星星形成的三棱锥中。你需要求出期望有多少星星是美丽的。</p>
<p>为了避免精度问题，你需要输出这个期望对 <span class="math inline">\(998244353\)</span> 取模的结果。</p>
<p>第一行一个正整数 <span class="math inline">\(n​\)</span>，表示星星个数。</p>
<p>接下来 <span class="math inline">\(n\)</span> 行每行四个非负整数，<span class="math inline">\(p&#39;_i,x_i,y_i,z_i\)</span>。其中 <span class="math inline">\(0 \le p&#39;_i \le 10000\)</span>，真实的 <span class="math inline">\(p_i=p&#39;_i\times10^{-4}​\)</span>。</p>
<p>对于所有数据，<span class="math inline">\(4 \le n \le 100,0 \le x_i,y_i,z_i \le 10^5\)</span>，保证不会有四点共面的情况。</p>
<hr />
<h3 id="problem-b-数字">Problem B (数字)</h3>
<p>给定 <span class="math inline">\(n,p\)</span> 以及长度为 <span class="math inline">\(p-1\)</span> 的数列 <span class="math inline">\(a_0,a_1,\cdots,a_{p-2}\)</span>，其中 <span class="math inline">\(p\)</span> 是个质数。你需要求出：</p>
<p><span class="math display">\[\sum_{i=1}^na_{i\bmod\ (p-1)}\cdot\varphi(i) \mod p\]</span></p>
<p>其中 <span class="math inline">\(\varphi\)</span> 是欧拉函数，即 <span class="math inline">\(\varphi(i)\)</span> 表示小于等于 <span class="math inline">\(i\)</span> 且与 <span class="math inline">\(i\)</span> 互质的正整数个数，<span class="math inline">\(p\)</span> 给定，且 <span class="math inline">\(p\)</span> 是个小质数，满足 <span class="math inline">\(2 \le p \le 23\)</span>。</p>
<p>总共会给定 <span class="math inline">\(T\)</span> 组数列 <span class="math inline">\(a_i\)</span>，你需要对于它们分别算出答案。</p>
<p>对于所有数据，<span class="math inline">\(1 \le n \le 10^9,1 \le T \le 10^4,0 \le a_i &lt; p,2 \le p \le 23\)</span> 且 <span class="math inline">\(p\)</span> 是质数。</p>
<hr />
<p>单位根反演</p>
<h3 id="problem-c-糖果">Problem C (糖果)</h3>
<p>有 <span class="math inline">\(n\)</span> 箱糖果，其中第 <span class="math inline">\(i\)</span> 箱里有 <span class="math inline">\(a_i\)</span> 堆糖果，每堆糖果都有 <span class="math inline">\(2i\)</span> 个，如果拿了 <span class="math inline">\(k\)</span> 个，得到的快乐值为 <span class="math inline">\(\displaystyle \sum_{j=\max(k,i)}^{2i}(-1)^{j-k}\binom jk\binom{i}{j-i}-[k=0]\)</span>。其中 <span class="math inline">\([k=0]\)</span> 表示当 <span class="math inline">\(k=0\)</span> 时值为 <span class="math inline">\(1\)</span>，否则为 <span class="math inline">\(0\)</span>。最终可以从每箱中的每堆里面各拿出一些糖果放在一起，得到的快乐值为每堆糖果的快乐值的乘积（注意可以是负数）。例如 <span class="math inline">\(n=2,a_1=a_2=1\)</span>，从第一堆里拿 <span class="math inline">\(0\)</span> 个，第二堆里拿 <span class="math inline">\(3\)</span> 个，获得的快乐值为 <span class="math inline">\((-1)\times(-2)=2\)</span>。</p>
<p>对于每一种拿法，你都需要把这些糖果分给 <span class="math inline">\(m\)</span> 个小朋友，小朋友可以不分到糖果，但是 <span class="math inline">\(m\)</span> 个糖果必须分完。</p>
<p>你需要算出所有方案下，快乐值的总和是多少。两种方案不同当且仅当从某堆里拿出的糖果数量不同，或者某个小朋友分到的糖果数量不同。小朋友都是有区别的，糖果是没有区别的。</p>
<p>由于答案很大，你只需要输出快乐值总和 <span class="math inline">\(\bmod\ 998244353\)</span> 的结果即可。</p>
<hr />
<h2 id="round-6">Round 6</h2>
<h3 id="problem-a-抽奖">Problem A (抽奖)</h3>
<p>有一袋球，其中有 <span class="math inline">\(R\)</span> 个红球和 <span class="math inline">\(B\)</span> 个蓝球，初始时你手上有 <span class="math inline">\(X\)</span> 元钱，你每次可以从手上拿出任意一部分钱（可以是任意实数）当作赌注，并猜一种颜色。然后你从这个不透明的袋子里随便拿出一个球，如果这个球的颜色和你猜的颜色一致，那么你的赌注会翻倍（即假设拿了 <span class="math inline">\(Y\)</span> 元当赌注，那么这一轮结束之后你的钱数将变成 <span class="math inline">\(X+Y\)</span>），否则你会失去赌注（即总钱数变成 <span class="math inline">\(X-Y\)</span>）。</p>
<p>拿出的球不会再放回去，这意味着游戏会持续恰好 <span class="math inline">\(R+B\)</span> 轮。你需要找到一种策略，使得<strong>最坏情况</strong>下最终获得的钱数尽量多。注意每次拿出球之后你就知道了它的颜色（即知道袋子里还剩余多少红色和蓝色球）。</p>
<p>可以证明，答案一定是个有理数。你只需要输出这个有理数在 <span class="math inline">\(\bmod\ 998244353\)</span> 意义下对应的整数即可。</p>
<p><span class="math inline">\(R +B\le 10^3\)</span></p>
<hr />
<p>一道少见的简单题。</p>
<h3 id="problem-b-排列">Problem B (排列)</h3>
<p>有 <span class="math inline">\(1,2,3,\cdots,n\)</span> 这 <span class="math inline">\(n\)</span> 个数排成一排，你需要解决下面两个问题：</p>
<ol type="1">
<li>你每次可以交换任意两个数，求<strong>恰好</strong> <span class="math inline">\(k\)</span> 次交换后能得到多少种不同的排列。</li>
<li>你每次可以交换相邻两个数，求<strong>恰好</strong> <span class="math inline">\(k\)</span> 次交换后能得到多少种不同的排列。</li>
</ol>
<p>由于答案可能很大，你只需要输出其对 <span class="math inline">\(998244353\)</span> 取模的结果即可。</p>
<p>共一行两个正整数 <span class="math inline">\(n,k\)</span>。</p>
<p>对于所有数据，保证 <span class="math inline">\(1 \le n \le 10^9,1 \le k \le 10^5\)</span>。</p>
<hr />
<h3 id="problem-c-图">Problem C (图)</h3>
<p>有一个 <span class="math inline">\(n\)</span> 个点 <span class="math inline">\(m\)</span> 条边的无向连通图，保证无重边无自环。你可以删掉原图的若干条边，然后给剩下的边赋上 <span class="math inline">\(1 \sim k-1\)</span> 的权值，使得每个点相邻的边的权值和都是 <span class="math inline">\(k\)</span> 的倍数，且剩下的这些边可以使整张图连通。</p>
<p>你需要求出方案数对 <span class="math inline">\(998244353\)</span> 取模的结果。</p>
<p>第二行三个正整数 <span class="math inline">\(n,m,k\)</span>，其中 <span class="math inline">\(1 \le n \le 19,n-1 \le m \le \dfrac{n(n-1)}{2},2 \le k \le 3\)</span>。</p>
<p>接下来 <span class="math inline">\(m\)</span> 行每行两个数 <span class="math inline">\(u,v\)</span>，表示一条边。保证无重边无自环。</p>
<hr />
<h2 id="round-7">Round 7</h2>
<h3 id="problem-a">Problem A</h3>
<p>众所周知，小葱同学擅长计算，尤其擅长计算组合数，但这个题和组合数没什么关系。</p>
<p><span class="math inline">\(N\)</span>个大皮克敏和<span class="math inline">\(M\)</span>个小皮克敏，大皮克敏有两滴血，小皮克敏有一滴血。你要开<span class="math inline">\(K\)</span>枪，会等概率击中任意一只还活着的皮克敏，掉一滴血。如果最后有<span class="math inline">\(a\)</span>只大皮克敏和<span class="math inline">\(b\)</span>只小皮克敏还活着，则你会得到<span class="math inline">\(a\times b\times (a+b)\)</span>的分数。求期望分数。</p>
<p><span class="math inline">\(N, M\le 2000\)</span></p>
<h3 id="problem-b">Problem B</h3>
<p>众所周知，小葱同学擅长计算，尤其擅长计算组合数，但这个题和组合数没什么关系。</p>
<p>定义<span class="math inline">\(F_0=0,F_1=1,F_i=F_{i-1}+F_{i-2}\)</span>。求<span class="math inline">\(F(F(\cdots F(n)))\bmod m\)</span>（一共<span class="math inline">\(k\)</span>个<span class="math inline">\(F\)</span>）。</p>
<p><span class="math inline">\(k\le 5, n\le 10^{18}, m\le 10^{18}\)</span></p>
<hr />
<p>这个题应该单独成文吧…</p>
<h3 id="problem-c">Problem C</h3>
<p>众所周知，小葱同学擅长计算，尤其擅长计算组合数，但这个题和组合数没什么关系。</p>
<p><span class="math inline">\(N​\)</span>个数组，每个数组有<span class="math inline">\(M​\)</span>个<span class="math inline">\(0​\)</span>。五种操作：</p>
<ol type="1">
<li>给定<span class="math inline">\(i,l,r,v\)</span>，将第<span class="math inline">\(i\)</span>个数组的第<span class="math inline">\(l-r\)</span>个数增加<span class="math inline">\(v\)</span>。</li>
<li>给定<span class="math inline">\(i,l,r\)</span>，询问第<span class="math inline">\(i\)</span>个数组第<span class="math inline">\(l-r\)</span>个数的和、最小值、最大值。</li>
<li>给定<span class="math inline">\(l,r\)</span>，询问第<span class="math inline">\(l-r\)</span>个数组上所有数的和、最小值、最大值。<br />
</li>
<li>给定<span class="math inline">\(l,r,v\)</span>，将第<span class="math inline">\(l-r\)</span>个数组的所有数增加<span class="math inline">\(v\)</span>。</li>
<li>给定<span class="math inline">\(i,l,r,j,t\)</span>，将第<span class="math inline">\(i\)</span>个数组的第<span class="math inline">\(l-r\)</span>个数，移动到第<span class="math inline">\(j\)</span>个数组的第<span class="math inline">\(t\)</span>个数的后面。</li>
</ol>
<p><span class="math inline">\(N, M\leq 10^5\)</span></p>
<hr />
<p>屑题。一道 <span class="math inline">\(0\)</span> 思维难度的省选难度的题目。</p>
<p>开个线段树，每个叶子上面建动态开点 <code>splay</code> 就完事了。</p>
<p>标称 500 行。<del>标称不压行，长得跟小葱一样</del></p>
<hr />
<h2 id="round-8">Round 8</h2>
<h3 id="problem-a-1">Problem A</h3>
<p>定义数列<span class="math inline">\(F_0=f_0,F_1=f_1,F_i=c_1\times F_{i-1}+c_2\times F_{i-2}+c_3\)</span>。现在定义一个长度为n的数组里面的元素为<span class="math inline">\(F_0,F_1,\cdots ,F_{n-1}\)</span>。我们需要做<span class="math inline">\(m\)</span>次操作，每次取出数组中前<span class="math inline">\(k\)</span>个元素求和放到数组最后面去（不足<span class="math inline">\(k\)</span>个取全部）。输出操作完后数组的第一个和最后一个元素。</p>
<p><span class="math inline">\(1\leq n\leq10^{18},0\leq k,m\leq10^{18},f_0,f_1,c_1,c_2,c_3\leq 10^9\)</span>。</p>

    </div>





    <footer class="post-footer">
          <div class="post-tags">
              <a href="/oi-blog/tags/未完成/" rel="tag"># 未完成</a>
          </div>



          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/oi-blog/「比赛总结」实验舱/" rel="prev" title="「比赛总结」实验舱">
                  <i class="fa fa-chevron-left"></i> 「比赛总结」实验舱
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/oi-blog/退役笔记-生涯回忆/" rel="next" title="退役笔记 生涯回忆 NOI 2021">
                  退役笔记 生涯回忆 NOI 2021 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 –
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">舒雨墨</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>


  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
<script src="/oi-blog/js/utils.js"></script><script src="/oi-blog/js/schemes/muse.js"></script><script src="/oi-blog/js/next-boot.js"></script>


<script src="/oi-blog/js/local-search.js"></script>





  <script>
    NProgress.configure({
      showSpinner: true
    });
    NProgress.start();
    document.addEventListener('readystatechange', () => {
      if (document.readyState === 'interactive') {
        NProgress.inc(0.8);
      }
      if (document.readyState === 'complete') {
        NProgress.done();
      }
    });
    document.addEventListener('pjax:send', () => {
      NProgress.start();
    });
    document.addEventListener('pjax:success', () => {
      NProgress.done();
    });
  </script>


  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ShuYuMo2003/gitalk@master/dist/gitalk.css">

<script>
NexT.utils.loadComments('.gitalk-container', () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/gh/ShuYuMo2003/gitalk@master/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '5d4b0a361ccf7199b58f',
      clientSecret: 'ff21340eedfb4a1c940eaddf8e180f0260c33088',
      repo        : 'ShuYuMo2003.github.io',
      owner       : 'ShuYuMo2003',
      admin       : ['ShuYuMo2003'],
      id          : '3f26dc0091552b48d63b79585f46fef2',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render(document.querySelector('.gitalk-container'));
  }, window.Gitalk);
});
</script>

</body>
</html>
